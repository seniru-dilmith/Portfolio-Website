/* MDXEditor Custom Theme */

/* Target the editor content specifically */
.mdxeditor-content,
.rendered-article-content {
  /* Ensure a base color is set that contrasts with the background */
  color: hsl(var(--foreground)); 
}

/* Typography Enhancements using Theme Variables */

.mdxeditor-content h1,
.rendered-article-content h1,
.mdxeditor-content h2,
.rendered-article-content h2,
.mdxeditor-content h3,
.rendered-article-content h3,
.mdxeditor-content h4,
.rendered-article-content h4,
.mdxeditor-content h5,
.rendered-article-content h5,
.mdxeditor-content h6,
.rendered-article-content h6 {
  font-weight: 700;
  margin-top: 1.5em;
  margin-bottom: 0.75em;
  line-height: 1.3;
}

.mdxeditor-content h1, .rendered-article-content h1 {
  color: hsl(var(--primary));
  font-size: 2.25em;
  border-bottom: 2px solid hsl(var(--border));
  padding-bottom: 0.3em;
}

.mdxeditor-content h2, .rendered-article-content h2 {
  color: hsl(var(--foreground)); /* Keep clean */
  font-size: 1.75em;
  border-bottom: 1px solid hsl(var(--border));
  padding-bottom: 0.2em;
}

.mdxeditor-content h3, .rendered-article-content h3 {
  color: hsl(var(--accent));
  font-size: 1.5em;
}

.mdxeditor-content h4, .rendered-article-content h4 {
  color: hsl(var(--foreground));
  font-size: 1.25em;
}

.mdxeditor-content h5, .rendered-article-content h5 {
  color: hsl(var(--foreground));
  font-size: 1.1em;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.mdxeditor-content h6, .rendered-article-content h6 {
  color: hsl(var(--muted-foreground));
  font-size: 1em;
  font-style: italic;
}

.mdxeditor-content p, .rendered-article-content p {
  color: hsl(var(--foreground));
  line-height: 1.75;
  margin-bottom: 1.25em;
}

.mdxeditor-content strong, .rendered-article-content strong {
  color: hsl(var(--primary));
  font-weight: 700;
}

.mdxeditor-content em, .rendered-article-content em {
  color: hsl(var(--accent));
  font-style: italic;
}

.mdxeditor-content u, .rendered-article-content u {
  text-decoration: underline;
  text-decoration-color: hsl(var(--secondary-foreground));
  text-underline-offset: 4px;
}

.mdxeditor-content blockquote, .rendered-article-content blockquote {
  border-left: 4px solid hsl(var(--accent));
  background-color: hsl(var(--muted) / 0.5);
  padding: 0.75rem 1rem;
  color: hsl(var(--muted-foreground));
  border-radius: 0 0.5rem 0.5rem 0;
  font-style: italic;
  margin: 1.5em 0;
}

/* Fix for "prose" class potentially forcing colors */
/* Fix for "prose" class potentially forcing colors */
.prose h1, .prose h2, .prose h3, .prose h4,
.rendered-article-content h1, .rendered-article-content h2, .rendered-article-content h3, .rendered-article-content h4 {
    /* Let our specific rules take precedence */
    color: inherit !important;
}

/* Custom Multicolour Support - span classes */
.text-red { color: #ef4444; }
.text-blue { color: #3b82f6; }
.text-green { color: #22c55e; }
.text-yellow { color: #eab308; }
.text-purple { color: #a855f7; }

/* Center images by default */
.mdxeditor-content img {
  display: block;
  margin-left: auto;
  margin-right: auto;
  max-width: 100%; /* Ensure they don't overflow */
}

/* Image Dialog Customizations */
/* ... existing dialog rules ... */

/* Sticky Toolbar */
/* Sticky Toolbar */
.mdxeditor-toolbar {
  position: sticky !important;
  top: 5rem !important; /* Offset for fixed navbar (approx 80px/h-20) */
  z-index: 40 !important; /* Below navbar (usually 50) but above content */
  background-color: hsl(var(--background)); /* Use theme background */
  border-bottom: 1px solid hsl(var(--border));
  border-radius: var(--radius) var(--radius) 0 0;
  transition: top 0.2s;
  overflow-x: auto !important; /* Allow horizontal scroll on mobile */
  max-width: 100vw !important; /* Prevent causing horizontal scroll on body */
  /* Hide scrollbar for cleaner look if possible, but usability comes first */
  scrollbar-width: thin;
}

/* Ensure parents don't clip the sticky toolbar */
.mdxeditor, .mdxeditor-root {
  overflow: visible !important;
}

/* Hide the "Upload" tab trigger if it still appears, though removing the handler should do it */
/* Hide the "Upload" tab trigger if it still appears, though removing the handler should do it */
[role="dialog"] [value="upload"] {
  display: none !important;
}

/* Hide the Dialog Title (often "Upload an image" or "Image") */
[role="dialog"] h2 {
  display: none !important;
}

/* Add Instructions to the Dialog */
[role="dialog"] form::after {
  content: "Use Alt Text for Alignment: #left, #right, or #center (default)";
  display: block;
  margin-top: 1rem;
  padding: 0.75rem;
  background-color: hsl(var(--muted));
  color: hsl(var(--muted-foreground));
  font-size: 0.85rem;
  border-radius: var(--radius);
  border-left: 3px solid hsl(var(--primary));
  white-space: pre-wrap;
  line-height: 1.4;
}

/* Improve general dialog styling to match theme */
[role="dialog"] {
  background-color: hsl(var(--card)) !important;
  color: hsl(var(--card-foreground)) !important;
  border: 1px solid hsl(var(--border)) !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05) !important;
  border-radius: var(--radius) !important;
}

[role="dialog"] input[type="text"] {
    background-color: hsl(var(--input)) !important;
    border: 1px solid hsl(var(--border)) !important;
    color: hsl(var(--foreground)) !important;
    border-radius: var(--radius) !important;
}

[role="dialog"] button[type="submit"] {
    background-color: hsl(var(--primary)) !important;
    color: hsl(var(--primary-foreground)) !important;
    border-radius: var(--radius) !important;
}

[role="dialog"] button {
    color: hsl(var(--foreground));
}

[role="dialog"] label {
    color: hsl(var(--foreground));
}
